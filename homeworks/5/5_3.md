### Домашнее задание к занятию "5.3. Контейнеризация на примере Docker"

>#### Задача 1 
>
>Посмотрите на сценарий ниже и ответьте на вопрос:
>"Подходит ли в этом сценарии использование докера? Или лучше подойдет виртуальная машина, физическая машина? Или возможны разные варианты?"
>
>Детально опишите и обоснуйте свой выбор.
>
>Сценарий:
>
>- Высоконагруженное монолитное java веб-приложение;

Для монолитного приложения докер подходит, но смущает высокая нагруженность. Скорее лучше использовать виртуальный или физический сервер.


>- Go-микросервис для генерации отчетов;

Микросервис много места не занимает, докер сэкономит ресурсы по сравнению с виртуалкой. Но при условии, что отчеты будут храниться не в контейнере.

>- Nodejs веб-приложение; 

Докер. Есть готовые образы, можно быстро развернуть сервис в контейнере, не занимает много места.


>- Мобильное приложение c версиями для Android и iOS;

Можно сделать по контейнеру для Android и iOS. Удобно использовать докер, т.к. можно пересобирать контейнер в зависимости от версии приложения. 

>- База данных postgresql используемая, как кэш;

Базу данных лучше не держать в контейнере, т.к. велика вероятность потери данных. Однако саму БД можно хранить вне контейнера. Так что, думаю, может быть и такой вариант.

>- Шина данных на базе Apache Kafka;

На сколько я понял шина данных сама не хранит данные, т.е. можно использовать докер.

>- Очередь для Logstash на базе Redis;

Здесь могу ответить аналогично предыдущему пункту. Если не хранятся данные, то можно докер. На сколько я понял, это верно для всех пунктов. 

>- Elastic stack для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana;

Тут я бы, наверное, использовал виртуальные сервера. Всё-таки хранение логов. Делать на докере и выносить куда-то хранение данных, думаю, не рационально. 

> - Мониторинг-стек на базе prometheus и grafana;
  
Подойдет докер. Есть готовые образы. Хранение важных данных можно вынести за пределы контейнера.

>- Mongodb, как основное хранилище данных для java-приложения;

Хранилище данных лучше не делать в контейнере.  

>- Jenkins-сервер.

С подобной системой не сталкивался, но если я правильно понял что это, то да, можно использовать докер. Например, создавать отдельные контейнеры под каждый отдельный проект.

>#### Задача 2 
>
>Сценарий выполения задачи:
>
>- создайте свой репозиторий на докерхаб; 
>- выберете любой образ, который содержит апачи веб-сервер;
>- создайте свой форк образа;
>- реализуйте функциональность: 
>запуск веб-сервера в фоне с индекс-страницей, содержащей HTML-код ниже: 
>
>```
><html>
><head>
>Hey, Netology
></head>
><body>
><h1>I’m kinda DevOps now</h1>
></body>
></html>
>```
>Опубликуйте созданный форк в своем репозитории и предоставьте ответ в виде ссылки на докерхаб-репо.

https://hub.docker.com/repository/docker/aksdoc/1st-image

>#### Задача 3 
>
>- Запустите первый контейнер из образа centos c любым тэгом в фоновом режиме, подключив папку info из текущей рабочей директории на хостовой машине в /share/info контейнера;
>- Запустите второй контейнер из образа debian:latest в фоновом режиме, подключив папку info из текущей рабочей директории на хостовой машине в /info контейнера;
>- Подключитесь к первому контейнеру с помощью exec и создайте текстовый файл любого содержания в /share/info ;
>- Добавьте еще один файл в папку info на хостовой машине;
>- Подключитесь во второй контейнер и отобразите листинг и содержание файлов в /info контейнера.

```commandline
docker run -tid --name test-centos -v /root/info:/share/info centos
docker run -tid --name test-debian -v /root/info:/info debian
docker exec -ti test-centos touch /share/info/1.txt
touch info/2.txt
docker exec -ti test-debian ls /info
1.txt  2.txt
```